2025-08-01 17:34:15,634 - __main__ - INFO - Starting ring partition optimization with 1 refinement levels
2025-08-01 17:34:15,634 - __main__ - INFO - Results will be saved in: results/run_20250801_173415_npart2_nr8_na16_lam0.0_seed42
2025-08-01 17:34:15,634 - __main__ - INFO - ================================================================================
2025-08-01 17:34:15,634 - __main__ - INFO - Refinement Level 1/1
2025-08-01 17:34:15,634 - __main__ - INFO - ================================================================================
2025-08-01 17:34:15,634 - __main__ - INFO - Creating mesh with parameters: {'n_radial': 8, 'n_angular': 16, 'r_inner': 0.5, 'r_outer': 1.0}
2025-08-01 17:34:15,634 - ring_mesh - INFO - Creating ring mesh: n_radial=8, n_angular=16, r_inner=0.5, r_outer=1.0
2025-08-01 17:34:15,645 - ring_mesh - INFO - Mesh created: 128 vertices, 224 triangles
2025-08-01 17:34:15,645 - ring_mesh - INFO - Theoretical area: 2.356194
2025-08-01 17:34:15,645 - __main__ - INFO - Mesh created: 128 vertices, 224 triangles
2025-08-01 17:34:15,646 - __main__ - INFO - Computing FEM matrices...
2025-08-01 17:34:15,670 - ring_mesh - INFO - Starting matrix computation
2025-08-01 17:34:15,671 - ring_mesh - INFO - Starting matrix computation...
2025-08-01 17:34:15,720 - ring_mesh - INFO - Matrix computation completed: Mass matrix (128, 128), Stiffness matrix (128, 128)
2025-08-01 17:34:15,721 - ring_mesh - INFO - matrix computation completed: 0.051s, memory: 0.23MB
2025-08-01 17:34:15,721 - __main__ - INFO - Matrices computed successfully
2025-08-01 17:34:15,722 - ring_mesh - INFO - Mesh statistics: 128 vertices, 224 triangles, area=2.296101
2025-08-01 17:34:15,722 - __main__ - INFO - Setting epsilon to sqrt(mean_triangle_area): 1.012445e-01
2025-08-01 17:34:15,722 - pyslsqp_optimizer - INFO - PySLSQPOptimizer initialized:
2025-08-01 17:34:15,722 - pyslsqp_optimizer - INFO -   Ring: r_inner=0.500, r_outer=1.000
2025-08-01 17:34:15,723 - pyslsqp_optimizer - INFO -   Partitions: 2
2025-08-01 17:34:15,723 - pyslsqp_optimizer - INFO -   Epsilon: 1.01e-01
2025-08-01 17:34:15,723 - pyslsqp_optimizer - INFO -   Theoretical area: 2.356194
2025-08-01 17:34:15,723 - pyslsqp_optimizer - INFO -   Discretized area: 2.296101
2025-08-01 17:34:15,723 - __main__ - INFO - PySLSQP optimizer created
2025-08-01 17:34:15,723 - __main__ - INFO - Creating random initial condition using orthogonal projection
2025-08-01 17:34:15,724 - projection_iterative - INFO - Creating initial condition: 128x2, method=iterative
2025-08-01 17:34:15,725 - projection_iterative - INFO - Projection converged after 1 iterations
2025-08-01 17:34:15,725 - projection_iterative - INFO - Final errors: row=1.08e-10, area=1.00e-10
2025-08-01 17:34:15,725 - __main__ - INFO - Initial condition validation passed
2025-08-01 17:34:15,726 - __main__ - INFO - Checking analytic vs finite-difference gradients...
2025-08-01 17:34:15,726 - __main__ - INFO - Checking analytic vs finite-difference gradients...
2025-08-01 17:34:15,814 - __main__ - WARNING - Large gradient error at point 0: 5.49e-02
2025-08-01 17:34:15,906 - __main__ - WARNING - Large gradient error at point 1: 5.58e-02
2025-08-01 17:34:15,994 - __main__ - WARNING - Large gradient error at point 2: 5.53e-02
2025-08-01 17:34:16,083 - __main__ - WARNING - Large gradient error at point 3: 5.58e-02
2025-08-01 17:34:16,165 - __main__ - WARNING - Large gradient error at point 4: 5.52e-02
2025-08-01 17:34:16,250 - __main__ - WARNING - Large gradient error at point 5: 5.59e-02
2025-08-01 17:34:16,336 - __main__ - WARNING - Large gradient error at point 6: 5.58e-02
2025-08-01 17:34:16,421 - __main__ - WARNING - Large gradient error at point 7: 5.57e-02
2025-08-01 17:34:16,502 - __main__ - WARNING - Large gradient error at point 8: 5.60e-02
2025-08-01 17:34:16,588 - __main__ - WARNING - Large gradient error at point 9: 5.57e-02
2025-08-01 17:34:16,588 - __main__ - INFO - Gradient check completed: avg_error=5.56e-02, max_error=5.60e-02
2025-08-01 17:34:16,588 - __main__ - WARNING - Gradient errors are larger than expected
2025-08-01 17:34:16,589 - pyslsqp_optimizer - INFO - Starting optimization
2025-08-01 17:34:16,589 - pyslsqp_optimizer - INFO - Processing initial condition...
2025-08-01 17:34:16,590 - pyslsqp_optimizer - INFO - ✓ Initial condition processed
2025-08-01 17:34:16,590 - pyslsqp_optimizer - INFO - ✓ Initial condition validation passed
2025-08-01 17:34:16,590 - pyslsqp_optimizer - INFO - Initial state before optimization:
2025-08-01 17:34:16,590 - pyslsqp_optimizer - INFO -   Energy: 1.289236e+01
2025-08-01 17:34:16,591 - pyslsqp_optimizer - INFO -   Initial condition shape: (256,)
2025-08-01 17:34:16,591 - pyslsqp_optimizer - INFO -   Detailed optimization data will be saved to:
2025-08-01 17:34:16,591 - pyslsqp_optimizer - INFO -     Summary: results/run_20250801_173415_npart2_nr8_na16_lam0.0_seed42/pyslsqp_part2_nt8_np16_lam0.0_seed42_level0_summary.out
2025-08-01 17:34:16,591 - pyslsqp_optimizer - INFO -     Internal data: results/run_20250801_173415_npart2_nr8_na16_lam0.0_seed42/pyslsqp_part2_nt8_np16_lam0.0_seed42_level0_internal_data.hdf5
2025-08-01 17:34:16,591 - pyslsqp_optimizer - INFO - Starting PySLSQP optimization with analytic gradients...
2025-08-01 17:34:21,155 - pyslsqp_optimizer - INFO -   Iteration 50:
2025-08-01 17:34:21,156 - pyslsqp_optimizer - INFO -     Energy: 5.640760e+00
2025-08-01 17:34:21,156 - pyslsqp_optimizer - INFO -     Energy change: -2.317512e-02
2025-08-01 17:34:21,156 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-01 17:34:21,156 - pyslsqp_optimizer - INFO -     Current partition areas: [1.12635738 1.16406207]
2025-08-01 17:34:25,836 - pyslsqp_optimizer - INFO -   Iteration 100:
2025-08-01 17:34:25,836 - pyslsqp_optimizer - INFO -     Energy: 5.387142e+00
2025-08-01 17:34:25,836 - pyslsqp_optimizer - INFO -     Energy change: -4.184221e-01
2025-08-01 17:34:25,836 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-01 17:34:25,836 - pyslsqp_optimizer - INFO -     Current partition areas: [1.14431479 1.14729405]
2025-08-01 17:34:25,867 - pyslsqp_optimizer - INFO - PySLSQP optimization completed:
2025-08-01 17:34:25,867 - pyslsqp_optimizer - INFO -   Success: False
2025-08-01 17:34:25,868 - pyslsqp_optimizer - INFO -   Summary saved to: results/run_20250801_173415_npart2_nr8_na16_lam0.0_seed42/pyslsqp_part2_nt8_np16_lam0.0_seed42_level0_summary.out
2025-08-01 17:34:25,868 - pyslsqp_optimizer - INFO -   Internal data saved to: results/run_20250801_173415_npart2_nr8_na16_lam0.0_seed42/pyslsqp_part2_nt8_np16_lam0.0_seed42_level0_internal_data.hdf5
2025-08-01 17:34:25,868 - pyslsqp_optimizer - WARNING - Returning last valid iterate before unsuccessful termination.
2025-08-01 17:34:25,868 - pyslsqp_optimizer - INFO - optimization completed: 9.279s, memory: 10.85MB
2025-08-01 17:34:25,868 - __main__ - INFO - Results for level 1:
2025-08-01 17:34:25,869 - __main__ - INFO -   Energy: 5.805564e+00
2025-08-01 17:34:25,869 - __main__ - INFO -   Iterations: 100
2025-08-01 17:34:25,869 - __main__ - INFO -   Time: 9.28s
2025-08-01 17:34:25,869 - __main__ - INFO -   Success: False
2025-08-01 17:34:25,869 - __main__ - INFO - Refinement Summary:
2025-08-01 17:34:25,869 - __main__ - INFO - ================================================================================
2025-08-01 17:34:25,869 - __main__ - INFO -  Level    Mesh Size       Energy Iterations   Time (s)
2025-08-01 17:34:25,869 - __main__ - INFO - --------------------------------------------------------------------------------
2025-08-01 17:34:25,869 - __main__ - INFO -      1         8x16 5.805564e+00        100       9.28
2025-08-01 17:34:25,872 - __main__ - INFO - ✅ Solution file saved: results/run_20250801_173415_npart2_nr8_na16_lam0.0_seed42/ring_part2_nr8_na16_lam0.0_seed42_20250801_173415.h5
