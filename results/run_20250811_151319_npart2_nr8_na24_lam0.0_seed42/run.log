2025-08-11 15:13:19,900 - __main__ - INFO - Starting ring partition optimization with 1 refinement levels
2025-08-11 15:13:19,900 - __main__ - INFO - Results will be saved in: results/run_20250811_151319_npart2_nr8_na24_lam0.0_seed42
2025-08-11 15:13:19,901 - __main__ - INFO - ================================================================================
2025-08-11 15:13:19,901 - __main__ - INFO - Refinement Level 1/1
2025-08-11 15:13:19,901 - __main__ - INFO - ================================================================================
2025-08-11 15:13:19,901 - __main__ - INFO - Creating mesh with parameters: {'n_radial': 8, 'n_angular': 24, 'r_inner': 0.5, 'r_outer': 1.0}
2025-08-11 15:13:19,901 - ring_mesh - INFO - Creating ring mesh: n_radial=8, n_angular=24, r_inner=0.5, r_outer=1.0
2025-08-11 15:13:19,910 - ring_mesh - INFO - Mesh created: 192 vertices, 336 triangles
2025-08-11 15:13:19,911 - ring_mesh - INFO - Theoretical area: 2.356194
2025-08-11 15:13:19,911 - __main__ - INFO - Mesh created: 192 vertices, 336 triangles
2025-08-11 15:13:19,911 - __main__ - INFO - Computing FEM matrices...
2025-08-11 15:13:19,948 - ring_mesh - INFO - Starting matrix computation
2025-08-11 15:13:19,948 - ring_mesh - INFO - Starting matrix computation...
2025-08-11 15:13:20,006 - ring_mesh - INFO - Matrix computation completed: Mass matrix (192, 192), Stiffness matrix (192, 192)
2025-08-11 15:13:20,006 - ring_mesh - INFO - matrix computation completed: 0.058s, memory: 0.39MB
2025-08-11 15:13:20,006 - __main__ - INFO - Matrices computed successfully
2025-08-11 15:13:20,006 - ring_mesh - INFO - Mesh statistics: 192 vertices, 336 triangles, area=2.329371
2025-08-11 15:13:20,006 - __main__ - INFO - Setting epsilon to sqrt(mean_triangle_area): 8.326255e-02
2025-08-11 15:13:20,007 - pyslsqp_optimizer - INFO - PySLSQPOptimizer initialized:
2025-08-11 15:13:20,007 - pyslsqp_optimizer - INFO -   Ring: r_inner=0.500, r_outer=1.000
2025-08-11 15:13:20,007 - pyslsqp_optimizer - INFO -   Partitions: 2
2025-08-11 15:13:20,007 - pyslsqp_optimizer - INFO -   Epsilon: 8.33e-02
2025-08-11 15:13:20,007 - pyslsqp_optimizer - INFO -   Theoretical area: 2.356194
2025-08-11 15:13:20,007 - pyslsqp_optimizer - INFO -   Discretized area: 2.329371
2025-08-11 15:13:20,007 - __main__ - INFO - PySLSQP optimizer created
2025-08-11 15:13:20,007 - __main__ - INFO - Creating random initial condition using orthogonal projection
2025-08-11 15:13:20,007 - projection_iterative - INFO - Creating initial condition: 192x2, method=iterative
2025-08-11 15:13:20,008 - projection_iterative - INFO - Projection converged after 1 iterations
2025-08-11 15:13:20,008 - projection_iterative - INFO - Final errors: row=1.28e-10, area=1.00e-10
2025-08-11 15:13:20,008 - __main__ - INFO - Initial condition validation passed
2025-08-11 15:13:20,008 - __main__ - INFO - Checking analytic vs finite-difference gradients...
2025-08-11 15:13:20,008 - __main__ - INFO - Checking analytic vs finite-difference gradients...
2025-08-11 15:13:20,120 - __main__ - WARNING - Large gradient error at point 0: 1.19e-02
2025-08-11 15:13:20,222 - __main__ - WARNING - Large gradient error at point 1: 1.19e-02
2025-08-11 15:13:20,325 - __main__ - WARNING - Large gradient error at point 2: 1.19e-02
2025-08-11 15:13:20,429 - __main__ - WARNING - Large gradient error at point 3: 1.18e-02
2025-08-11 15:13:20,531 - __main__ - WARNING - Large gradient error at point 4: 1.20e-02
2025-08-11 15:13:20,650 - __main__ - WARNING - Large gradient error at point 5: 1.19e-02
2025-08-11 15:13:20,759 - __main__ - WARNING - Large gradient error at point 6: 1.20e-02
2025-08-11 15:13:20,860 - __main__ - WARNING - Large gradient error at point 7: 1.20e-02
2025-08-11 15:13:20,973 - __main__ - WARNING - Large gradient error at point 8: 1.19e-02
2025-08-11 15:13:21,077 - __main__ - WARNING - Large gradient error at point 9: 1.20e-02
2025-08-11 15:13:21,077 - __main__ - INFO - Gradient check completed: avg_error=1.19e-02, max_error=1.20e-02
2025-08-11 15:13:21,078 - __main__ - WARNING - Gradient errors are larger than expected
2025-08-11 15:13:21,078 - pyslsqp_optimizer - INFO - Starting optimization
2025-08-11 15:13:21,078 - pyslsqp_optimizer - INFO - Processing initial condition...
2025-08-11 15:13:21,079 - pyslsqp_optimizer - INFO - ✓ Initial condition processed
2025-08-11 15:13:21,079 - pyslsqp_optimizer - INFO - ✓ Initial condition validation passed
2025-08-11 15:13:21,080 - pyslsqp_optimizer - INFO - Initial state before optimization:
2025-08-11 15:13:21,080 - pyslsqp_optimizer - INFO -   Energy: 1.189765e+01
2025-08-11 15:13:21,080 - pyslsqp_optimizer - INFO -   Initial condition shape: (384,)
2025-08-11 15:13:21,080 - pyslsqp_optimizer - INFO -   Detailed optimization data will be saved to:
2025-08-11 15:13:21,080 - pyslsqp_optimizer - INFO -     Summary: results/run_20250811_151319_npart2_nr8_na24_lam0.0_seed42/pyslsqp_part2_nt8_np24_lam0.0_seed42_level0_summary.out
2025-08-11 15:13:21,080 - pyslsqp_optimizer - INFO -     Internal data: results/run_20250811_151319_npart2_nr8_na24_lam0.0_seed42/pyslsqp_part2_nt8_np24_lam0.0_seed42_level0_internal_data.hdf5
2025-08-11 15:13:21,080 - pyslsqp_optimizer - INFO - Starting PySLSQP optimization with analytic gradients...
2025-08-11 15:13:29,900 - pyslsqp_optimizer - INFO -   Iteration 50:
2025-08-11 15:13:29,900 - pyslsqp_optimizer - INFO -     Energy: 6.959284e+00
2025-08-11 15:13:29,900 - pyslsqp_optimizer - INFO -     Energy change: 3.929543e-04
2025-08-11 15:13:29,901 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:13:29,901 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15775343 1.15611999]
2025-08-11 15:13:38,712 - pyslsqp_optimizer - INFO -   Iteration 100:
2025-08-11 15:13:38,712 - pyslsqp_optimizer - INFO -     Energy: 6.973751e+00
2025-08-11 15:13:38,712 - pyslsqp_optimizer - INFO -     Energy change: 2.228217e-04
2025-08-11 15:13:38,712 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:13:38,712 - pyslsqp_optimizer - INFO -     Current partition areas: [1.1576705  1.15616308]
2025-08-11 15:13:47,561 - pyslsqp_optimizer - INFO -   Iteration 150:
2025-08-11 15:13:47,562 - pyslsqp_optimizer - INFO -     Energy: 6.983708e+00
2025-08-11 15:13:47,562 - pyslsqp_optimizer - INFO -     Energy change: 1.783980e-04
2025-08-11 15:13:47,562 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:13:47,562 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15760179 1.15620684]
2025-08-11 15:13:56,366 - pyslsqp_optimizer - INFO -   Iteration 200:
2025-08-11 15:13:56,366 - pyslsqp_optimizer - INFO -     Energy: 6.991432e+00
2025-08-11 15:13:56,366 - pyslsqp_optimizer - INFO -     Energy change: 1.334207e-04
2025-08-11 15:13:56,366 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:13:56,367 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15754834 1.15623934]
2025-08-11 15:14:05,308 - pyslsqp_optimizer - INFO -   Iteration 250:
2025-08-11 15:14:05,308 - pyslsqp_optimizer - INFO -     Energy: 6.997670e+00
2025-08-11 15:14:05,308 - pyslsqp_optimizer - INFO -     Energy change: 1.157247e-04
2025-08-11 15:14:05,308 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:14:05,308 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15750644 1.15626246]
2025-08-11 15:14:14,476 - pyslsqp_optimizer - INFO -   Iteration 300:
2025-08-11 15:14:14,476 - pyslsqp_optimizer - INFO -     Energy: 7.003169e+00
2025-08-11 15:14:14,476 - pyslsqp_optimizer - INFO -     Energy change: 1.048227e-04
2025-08-11 15:14:14,476 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:14:14,476 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15746997 1.15628139]
2025-08-11 15:14:24,491 - pyslsqp_optimizer - INFO -   Iteration 350:
2025-08-11 15:14:24,491 - pyslsqp_optimizer - INFO -     Energy: 7.008176e+00
2025-08-11 15:14:24,491 - pyslsqp_optimizer - INFO -     Energy change: 9.588396e-05
2025-08-11 15:14:24,491 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:14:24,491 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15743698 1.15629775]
2025-08-11 15:14:33,575 - pyslsqp_optimizer - INFO -   Iteration 400:
2025-08-11 15:14:33,575 - pyslsqp_optimizer - INFO -     Energy: 7.012769e+00
2025-08-11 15:14:33,575 - pyslsqp_optimizer - INFO -     Energy change: 8.817031e-05
2025-08-11 15:14:33,575 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:14:33,575 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15740683 1.15631217]
2025-08-11 15:14:42,377 - pyslsqp_optimizer - INFO -   Iteration 450:
2025-08-11 15:14:42,377 - pyslsqp_optimizer - INFO -     Energy: 7.017003e+00
2025-08-11 15:14:42,377 - pyslsqp_optimizer - INFO -     Energy change: 8.148454e-05
2025-08-11 15:14:42,377 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:14:42,378 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15737912 1.15632499]
2025-08-11 15:14:51,241 - pyslsqp_optimizer - INFO -   Iteration 500:
2025-08-11 15:14:51,241 - pyslsqp_optimizer - INFO -     Energy: 7.020897e+00
2025-08-11 15:14:51,241 - pyslsqp_optimizer - INFO -     Energy change: 7.404202e-05
2025-08-11 15:14:51,241 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:14:51,241 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15735364 1.15633651]
2025-08-11 15:15:00,072 - pyslsqp_optimizer - INFO -   Iteration 550:
2025-08-11 15:15:00,072 - pyslsqp_optimizer - INFO -     Energy: 7.024397e+00
2025-08-11 15:15:00,072 - pyslsqp_optimizer - INFO -     Energy change: 6.622318e-05
2025-08-11 15:15:00,072 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:15:00,073 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15733069 1.15634673]
2025-08-11 15:15:09,350 - pyslsqp_optimizer - INFO -   Iteration 600:
2025-08-11 15:15:09,350 - pyslsqp_optimizer - INFO -     Energy: 7.027622e+00
2025-08-11 15:15:09,350 - pyslsqp_optimizer - INFO -     Energy change: 6.288411e-05
2025-08-11 15:15:09,350 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:15:09,351 - pyslsqp_optimizer - INFO -     Current partition areas: [1.1573098  1.15635555]
2025-08-11 15:15:18,408 - pyslsqp_optimizer - INFO -   Iteration 650:
2025-08-11 15:15:18,408 - pyslsqp_optimizer - INFO -     Energy: 7.030687e+00
2025-08-11 15:15:18,409 - pyslsqp_optimizer - INFO -     Energy change: 5.980448e-05
2025-08-11 15:15:18,409 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:15:18,409 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15729001 1.15636368]
2025-08-11 15:15:27,308 - pyslsqp_optimizer - INFO -   Iteration 700:
2025-08-11 15:15:27,308 - pyslsqp_optimizer - INFO -     Energy: 7.033597e+00
2025-08-11 15:15:27,309 - pyslsqp_optimizer - INFO -     Energy change: 5.675176e-05
2025-08-11 15:15:27,309 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:15:27,309 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15727124 1.15637123]
2025-08-11 15:15:36,233 - pyslsqp_optimizer - INFO -   Iteration 750:
2025-08-11 15:15:36,234 - pyslsqp_optimizer - INFO -     Energy: 7.036358e+00
2025-08-11 15:15:36,234 - pyslsqp_optimizer - INFO -     Energy change: 5.398194e-05
2025-08-11 15:15:36,234 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:15:36,234 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15725346 1.15637824]
2025-08-11 15:15:45,107 - pyslsqp_optimizer - INFO -   Iteration 800:
2025-08-11 15:15:45,107 - pyslsqp_optimizer - INFO -     Energy: 7.038999e+00
2025-08-11 15:15:45,107 - pyslsqp_optimizer - INFO -     Energy change: 5.171283e-05
2025-08-11 15:15:45,108 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:15:45,108 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15723651 1.15638475]
2025-08-11 15:15:53,952 - pyslsqp_optimizer - INFO -   Iteration 850:
2025-08-11 15:15:53,952 - pyslsqp_optimizer - INFO -     Energy: 7.041529e+00
2025-08-11 15:15:53,952 - pyslsqp_optimizer - INFO -     Energy change: 4.957671e-05
2025-08-11 15:15:53,952 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:15:53,952 - pyslsqp_optimizer - INFO -     Current partition areas: [1.1572203  1.15639086]
2025-08-11 15:16:02,795 - pyslsqp_optimizer - INFO -   Iteration 900:
2025-08-11 15:16:02,795 - pyslsqp_optimizer - INFO -     Energy: 7.043957e+00
2025-08-11 15:16:02,795 - pyslsqp_optimizer - INFO -     Energy change: 4.760772e-05
2025-08-11 15:16:02,795 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:16:02,795 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15720476 1.1563966 ]
2025-08-11 15:16:11,590 - pyslsqp_optimizer - INFO -   Iteration 950:
2025-08-11 15:16:11,590 - pyslsqp_optimizer - INFO -     Energy: 7.046291e+00
2025-08-11 15:16:11,590 - pyslsqp_optimizer - INFO -     Energy change: 4.579701e-05
2025-08-11 15:16:11,590 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:16:11,590 - pyslsqp_optimizer - INFO -     Current partition areas: [1.15718986 1.156402  ]
2025-08-11 15:16:20,275 - pyslsqp_optimizer - INFO -   Iteration 1000:
2025-08-11 15:16:20,275 - pyslsqp_optimizer - INFO -     Energy: 6.967909e+00
2025-08-11 15:16:20,275 - pyslsqp_optimizer - INFO -     Energy change: -8.058181e-02
2025-08-11 15:16:20,275 - pyslsqp_optimizer - INFO -     Theoretical target area per partition: 1.178097e+00
2025-08-11 15:16:20,276 - pyslsqp_optimizer - INFO -     Current partition areas: [1.1550133  1.16227562]
2025-08-11 15:16:20,334 - pyslsqp_optimizer - INFO - PySLSQP optimization completed:
2025-08-11 15:16:20,334 - pyslsqp_optimizer - INFO -   Success: False
2025-08-11 15:16:20,334 - pyslsqp_optimizer - INFO -   Summary saved to: results/run_20250811_151319_npart2_nr8_na24_lam0.0_seed42/pyslsqp_part2_nt8_np24_lam0.0_seed42_level0_summary.out
2025-08-11 15:16:20,334 - pyslsqp_optimizer - INFO -   Internal data saved to: results/run_20250811_151319_npart2_nr8_na24_lam0.0_seed42/pyslsqp_part2_nt8_np24_lam0.0_seed42_level0_internal_data.hdf5
2025-08-11 15:16:20,334 - pyslsqp_optimizer - WARNING - Returning last valid iterate before unsuccessful termination.
2025-08-11 15:16:20,335 - pyslsqp_optimizer - INFO - optimization completed: 179.257s, memory: 41.70MB
2025-08-11 15:16:20,335 - __main__ - INFO - Results for level 1:
2025-08-11 15:16:20,335 - __main__ - INFO -   Energy: 7.048490e+00
2025-08-11 15:16:20,335 - __main__ - INFO -   Iterations: 1000
2025-08-11 15:16:20,335 - __main__ - INFO -   Time: 179.26s
2025-08-11 15:16:20,335 - __main__ - INFO -   Success: False
2025-08-11 15:16:20,336 - __main__ - INFO - Refinement Summary:
2025-08-11 15:16:20,336 - __main__ - INFO - ================================================================================
2025-08-11 15:16:20,336 - __main__ - INFO -  Level    Mesh Size       Energy Iterations   Time (s)
2025-08-11 15:16:20,336 - __main__ - INFO - --------------------------------------------------------------------------------
2025-08-11 15:16:20,336 - __main__ - INFO -      1         8x24 7.048490e+00       1000     179.26
2025-08-11 15:16:20,338 - __main__ - INFO - ✅ Solution file saved: results/run_20250811_151319_npart2_nr8_na24_lam0.0_seed42/ring_part2_nr8_na24_lam0.0_seed42_20250811_151319.h5
