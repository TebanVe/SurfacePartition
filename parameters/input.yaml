# Ring mesh parameters for testing
n_radial: 95
n_angular: 95
r_inner: 0.5
r_outer: 1.0

# Optimization parameters (for future use)
n_partitions: 5
lambda_penalty: 3.0
max_iter: 25000

# SLSQP parameters
tol: 1e-6
slsqp_eps: 1e-8
slsqp_disp: false

# Optimizer selection
optimizer_type: pgd  # options: pyslsqp or pgd

# Use discrete area (Î£v) for constraints rather than theoretical area
use_discrete_area_for_constraints: true

# Optimization parametersJeez
starget: 1.0
c: 0.5
rho: 0.5
m: 10
seed: 163498

# PGD parameters (used when optimizer_type: pgd)
pgd_step0: 1.0
pgd_armijo_c: 0.0001
pgd_backtrack_rho: 0.5
pgd_projection_max_iter: 200
pgd_projection_tol: 1.0e-10

# Refinement parameters
refinement_levels: 10
n_radial_increment: 0
n_angular_increment: 0
use_analytic: true

# Mesh refinement convergence criteria
refine_patience: 30
refine_delta_energy: 1e-8
refine_grad_tol: 1e-2
refine_constraint_tol: 1e-2
# Patience-based plateau criteria
refine_gnorm_patience: 30
refine_gnorm_delta: 1e-4
refine_feas_patience: 30
refine_feas_delta: 1e-6
# Enable or disable refinement triggers
enable_refinement_triggers: true

# Initial condition parameters
use_custom_initial_condition: false
initial_condition_path: null
allow_random_fallback: true

# Projection parameters
projection_max_iter: 100

# Matrix testing parameters
test_barycentric: true
test_stable: true
test_stable_fem: true
matrix_test_output_dir: "matrix_test_results"

# Logging parameters
log_frequency: 50
use_last_valid_iterate: true

# PGD artifact size and logging controls
run_log_frequency: 100
h5_save_stride: 50
h5_save_vars: ["x"]  # Allowed: "x", "constraints" (omit gradient to keep files small)
h5_always_save_first_last: true
refine_trigger_mode: full
# PGD constant-phase penalty controls
penalty_target_mode: fixed   # fixed (paper) or adaptive
penalty_eps: 1.0e-8

# PySLSQP parameters
pyslsqp_save_itr: major 

# Torus surface parameters (optional; used when --surface torus)
n_theta: 60
n_phi: 48
R: 1.0
r: 0.6
n_theta_increment: 20
n_phi_increment: 16